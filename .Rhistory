lekar + ucitel +
lekar*mudr,
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"ODS")
))
lm_party_TOP <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"TOP")
))
lm_party_KDU <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"KDU")
))
lm_party_VV <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr,
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"VV")
))
lm_party_KSCM <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"KSČM")
))
lm_party_SZ <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"SZ")
))
lm_party_Pirati <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr,
bezprislusnosti +
kraje,
subset=(str_detect(kraje$KandName,"Piráti")
))
lm_party_Svobodni <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"Svobodní")
))
lm_party_NarSoc <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"NÁR.SOC.")
))
#summary.lm(lm_party_all)
krajelist <- unique(kraje$KrajName)
lm_party_SPOZ <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"SPOZ")
))
lm_party_CSSD <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"ČSSD")
))
lm_party_ODS <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"ODS")
))
lm_party_TOP <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"TOP")
))
lm_party_KDU <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"KDU")
))
lm_party_VV <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"VV")
))
lm_party_KSCM <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"KSČM")
))
lm_party_SZ <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"SZ")
))
lm_party_Pirati <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr,
bezprislusnosti +
kraje,
subset=(str_detect(kraje$KandName,"Piráti")
))
lm_party_Svobodni <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"Svobodní")
))
lm_party_NarSoc <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"NÁR.SOC.")
))
#summary.lm(lm_party_all)
kraje$bezprislusnosti <- ifelse(kraje$Prislusnost=="BEZPP",1,0)
krajelist <- unique(kraje$KrajName)
lm_party_SPOZ <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"SPOZ")
))
lm_party_CSSD <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"ČSSD")
))
lm_party_ODS <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"ODS")
))
lm_party_TOP <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"TOP")
))
lm_party_KDU <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"KDU")
))
lm_party_VV <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"VV")
))
lm_party_KSCM <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"KSČM")
))
lm_party_SZ <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"SZ")
))
lm_party_Pirati <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr,
bezprislusnosti +
kraje,
subset=(str_detect(kraje$KandName,"Piráti")
))
lm_party_Svobodni <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"Svobodní")
))
lm_party_NarSoc <- lm(relPoradiKand ~ KandVek + female +
KandEdu + judr + mudr + mba +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel +
lekar*mudr +
bezprislusnosti,
kraje,
subset=(str_detect(kraje$KandName,"NÁR.SOC.")
))
#summary.lm(lm_party_all)
library(nlme)
multireg <- lmList(relPoradiKand ~ KandVek + female +
onlybc + mgr + mudr + judr + mba +   akad + ing + nodegree +
zastupitel + poslanec + radni +
hejtman + vicehejtman +
starosta + mistostarosta +
lekar + ucitel | Kandidatka,
kraje,
na.action=na.omit)
library(coefplot)
alllmplot <- multiplot(lm_party_ODS, lm_party_CSSD, lm_party_TOP, lm_party_VV,
lm_party_KSCM, lm_party_SPOZ, lm_party_SZ, lm_party_Pirati,
lm_party_Svobodni, lm_party_NarSoc,
single=FALSE,
names=c("ODS", "ČSSD", "TOP09", "VV", "KSČM", "SPOZ", "Zelení",
"Piráti","Svobodní","Národní Socialisté"),
sort="natural",
ncol=5,
plot=TRUE,
color="red",
fillColor="blue",
intercept=FALSE,
zeroColor="grey",
zeroType=1
)
alllmplot + theme(panel.background = element_rect(fill = "white")) +
xlim(-0.8,0.8)
#alllmplot <- alllmplot[with(alllmplot, order(Name)), ]
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
library(ggplot2)
library(stringr)
library(plyr)
library(reshape)
# load data for resolving female names
firstnames_female <- read.csv("~/github/local/ElectionsCZ/OtherData/NamesFemale.csv")
firstnames_female$female <- 1
firstnames_male <- read.csv("~/github/local/ElectionsCZ/OtherData/NamesMale.csv")
firstnames_male$female <- 0
nameslist <- rbind(firstnames_male, firstnames_female)
nameslist <- rename(nameslist, c("Name" = "KandKrestniJmeno"))
nameslist$Rank <- NULL
nameslist$Count <- NULL
kraje <- merge(kraje, nameslist)
rm(firstnames_female, firstnames_male, nameslist)
?merge
firstnames_female <- read.csv("~/github/local/ElectionsCZ/OtherData/NamesFemale.csv")
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
firstnames_female <- read.csv("~/github/local/ElectionsCZ/OtherData/NamesFemale.csv")
firstnames_female$female <- 1
firstnames_male <- read.csv("~/github/local/ElectionsCZ/OtherData/NamesMale.csv")
firstnames_male$female <- 0
nameslist <- rbind(firstnames_male, firstnames_female)
nameslist <- rename(nameslist, c("Name" = "KandKrestniJmeno"))
nameslist$Rank <- NULL
nameslist$Count <- NULL
kraje <- merge(kraje, nameslist, all.y=FALSE)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje <- merge(kraje, nameslist, all.y=FALSE, all.x=TRUE)
kraje <- merge(kraje, nameslist, all.y=FALSE, all.x=FALSE)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje <- merge(kraje, nameslist, all.y=FALSE, all.x=FALSE)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje <- merge(kraje, nameslist, all.y=FALSE, all.x=TRUE, incomparables=FALSE)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje <- merge(kraje, nameslist, all.y=FALSE, all.x=FALSE, incomparables=NA)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
viewData(nameslist)
kraje <- merge(kraje, nameslist, by=KandKrestniJmeno, all.y=FALSE, all.x=FALSE,
incomparables=NA)
viewData(kraje)
viewData(nameslist)
kraje <- merge(kraje, nameslist, by=col.names(KandKrestniJmeno), all.y=FALSE, all.x=FALSE,
incomparables=NA)
kraje <- merge(kraje, nameslist, by="KandKrestniJmeno", all.y=FALSE, all.x=FALSE,
incomparables=NA)
kraje <- merge(kraje, nameslist, by="KandKrestniJmeno", all.y=FALSE, all.x=TRUE,
incomparables=NA)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje <- merge(kraje, nameslist, by="KandKrestniJmeno", all.y=FALSE, all.x=TRUE,
incomparables=NA)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje <- merge(kraje, nameslist, by="KandKrestniJmeno", all.y=FALSE, all.x=TRUE,
incomparables=NULL)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje[kraje$KandJmeno==NA]<-NULL
kraje <- merge(kraje, nameslist, by="KandKrestniJmeno", all.x=FALSE, all.y=TRUE,
incomparables=NULL)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
firstnames_female <- read.csv("~/github/local/ElectionsCZ/OtherData/NamesFemale.csv")
firstnames_female$female <- 1
firstnames_male <- read.csv("~/github/local/ElectionsCZ/OtherData/NamesMale.csv")
firstnames_male$female <- 0
nameslist <- rbind(firstnames_male, firstnames_female)
nameslist <- rename(nameslist, c("Name" = "KandKrestniJmeno"))
nameslist$Rank <- NULL
nameslist$Count <- NULL
kraje <- merge(kraje, nameslist, by="KandKrestniJmeno", all.y=FALSE, all.x=TRUE,
incomparables=NULL)
unique(kraje$KandKrestniJmeno)
unique(kraje$KandJmeno)
unique(kraje$KandVek)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje <- merge(kraje, nameslist, by="KandKrestniJmeno", all.y=FALSE, all.x=TRUE,
incomparables=NULL)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje <- merge(kraje, nameslist, by="KandKrestniJmeno", all.y=FALSE, all.x=TRUE)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
mean(kraje$KandVek)
kraje <- merge(kraje, nameslist, by="KandKrestniJmeno", all.y=FALSE, all.x=TRUE)
mean(kraje$KandVek)
viewData(kraje)
dataentry()
dataentry(kraje)
??csv
write.table(kraje,file="bla.csv")
write.table(kraje,file="bla.csv",sep=",")
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje <- merge(nameslist, kraje, by="KandKrestniJmeno", all.x=FALSE, all.y=TRUE)
nameslist <-unique(nameslist)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje <- merge(nameslist, kraje, by="KandKrestniJmeno", all.x=FALSE, all.y=FALSE)
kraje <-unique(kraje)
kraje <-unique(kraje)
kraje <- merge(nameslist, kraje, by="KandKrestniJmeno", all.x=TRUE, all.y=TRUE)
kraje <- unique(kraje)
kraje <- merge(nameslist, kraje, by="KandKrestniJmeno", all.x=TRUE, all.y=TRUE)
kraje <- merge(nameslist, kraje, by="KandKrestniJmeno", all.x=TRUE, all.y=TRUE)
kraje <- unique(kraje)
kraje <- merge(nameslist, kraje, by="KandKrestniJmeno", all.x=FALSE, all.y=TRUE)
kraje <- merge(nameslist, kraje, by="KandKrestniJmeno", all.x=FALSE, all.y=TRUE)
kraje <- merge(nameslist, kraje, by="KandKrestniJmeno", all.x=FALSE, all.y=TRUE)
kraje <- merge(nameslist, kraje, by="KandKrestniJmeno", all.x=FALSE, all.y=TRUE)
kraje <- read.csv("~/github/local/ElectionsCZ/CSVKraje/Kraje_CandRegDetails2012_2.csv")
kraje1 <- merge(nameslist, kraje, by="KandKrestniJmeno", all.x=FALSE, all.y=TRUE)
kraje1 <- merge(nameslist, kraje, by="KandKrestniJmeno", all.x=FALSE, all.y=FALSE)
?rbind
viewData(nameslist)
?join
kraje1 <- join(kraje, nameslist)
kraje1 <- join(kraje, nameslist,type=inner)
kraje1 <- join(kraje, nameslist,type="inner")
kraje1 <- join(kraje, nameslist,type="left")
kraje1 <- join(kraje, nameslist,type="full")
kraje1 <- join(kraje, nameslist,type="inner")
write.table(kraje,file="bla.csv",sep=",")
kraje2 <- cbind(kraje, nameslist)
kraje2 <- rbind(kraje, nameslist)
kraje1 <- join(kraje, nameslist,type="inner")
kraje1 <- join(kraje, nameslist,type="left",match="first")
write.table(kraje,file="bla.csv",sep=",")
write.table(kraje1,file="bla.csv",sep=",")
ciselnik_kraje <- read.csv("~/github/local/ElectionsCZ/OtherData/Ciselnik_KZ_2012_kraje.csv")
kraje <- join(kraje, nameslist,type="left",match="first")
kraje <- join(kraje, ciselnik_kraje, by = "Kraj",match="first")
kraje_pocetkand <- ddply(kraje, .(Kraj, Kandidatka), nrow)
kraje_pocetkand <- rename(kraje_pocetkand, c("V1"="PocetKand"))
kraje <- join(kraje, kraje_pocetkand, by=c("Kandidatka","Kraj"),match="first")
ciselnik_kandidatky <- read.csv("~/github/local/ElectionsCZ/OtherData/Ciselnik_KZ_2012_kandidatky.csv")
kraje <- merge(kraje, ciselnik_kandidatky, by = "Kandidatka", match="first")
kraje <- join(kraje, ciselnik_kandidatky, by = "Kandidatka", match="first")
ciselnik_kandidatky <- rename(ciselnik_kandidatky, c("KandNum" = "Kandidatka"))
kraje <- join(kraje, ciselnik_kandidatky, by = "Kandidatka", match="first")
viewData(kraje)
viewData(ciselnik_kandidatky)
library("devtools")
install_github("ggplotJrnold", "jrnold")
??ggplotJrnold
viewData(nameslist)
viewData(nameslist)
source('~/.active-rstudio-document')
